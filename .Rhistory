import_data(global_tables)
strategy_impliedpricerisk(c("CPD", "SU", "ABX"), global_tables, 780, 780, 780)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output <- function(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
sub_posbook
orderline
response
global_tables$positionbook
positionbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
global_tables$positionbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
stock_list
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
filtered_tradesbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
filtered_tradesbook
filtered_trae
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
head(positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
positionbook
head(filtered_tradesbook)
head(positionbook)
book_value
filtered_tradesbook
filtered_tradesbook
stock_data
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
stock_matrix[k,"Date"]
start_time_date
if (stock_matrix[k,"Date"] >= start_time_date){q <- 1}
q
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
stock_data
View(stock_matrix)
stock_matrix[which(stock_matrix$Date == start_time_date), "LAST_PRICE"]
stock_matrix[which(stock_matrix$Date == start_time_date):which(stock_matrix$Date == end_time_date), "LAST_PRICE"]
filtered_tradesbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
filtered_tradesbook
stock_name
Pnl_df
View(Pnl_df)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
source('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
filtered_tradesbook
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
global_tables$tradesbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
filtered_tradesbook
filtered_tradesbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
n
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
head(filtered_tradesbook)
j
Pnl_df
global_tables$positionbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
filtered_tradesbook
global_tables$positionbook
Pnl_df
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
global_tables$tradesbook
cpd <- subset(global_tables$tradesbook, Symbol == "CPD")
cpd
View(cpd)
source('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
head(filtered_tradesbook)
filtered_tradesbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
head(filtered_tradesbook)
filtered_tradesbook
head(filtered_tradesbook)
Pnl_df
output(global_tables$tradesbook, global_tables$positionbook)
head(filtered_tradesbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
head(filtered_tradesbook)
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
Pnl_df
Pnl_df
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
nrow(filtered_tradesbook)
global_tables$positionbook
global_tables$positionbook[nrow(global_tables$positionbook), 1] + 29
positionbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
positionbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
positionbook[nrow(positionbook), "Timestamp"]
as.POSIXct(positionbook[nrow(positionbook), "Timestamp"], origin = "1970-01-01")
as.POSIXct(positionbook[nrow(positionbook), "Timestamp"], origin = "1970-01-01") + 29
as.POSIXct(positionbook[nrow(positionbook), "Timestamp"], origin = "1970-01-01") + 1740
source('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
source('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
qty_owned
totalqty_owned
qty_owned
output(global_tables$tradesbook, global_tables$positionbook)
qty_owned
qty_owned
output(global_tables$tradesbook, global_tables$positionbook)
filtered_tradesbook
j
totalqty_owned
output(global_tables$tradesbook, global_tables$positionbook)
totalqty_owned
totalqty_owned
head(filtered_tradesbook)
qty_owned
totalqty_owned
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
qty_owned
qty_owned[1]
get_quantities(curr_side, filtered_tradesbook, j, totalqty_owned)[1]
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
get_quantities(curr_side, filtered_tradesbook, j, totalqty_owned)[1]
output(global_tables$tradesbook, global_tables$positionbook)
get_quantities(curr_side, filtered_tradesbook, j, totalqty_owned)[1]
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
nrow(filtered_tradesbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
filtered_tradesbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
filtered_tradesbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
qty_owned
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
totalqty_owned
filtered_tradesbook
j
totalqty_owned + abs(filtered_tradesbook[j, "Quantity"])
qty_owned
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
qty_owned
filterd
filtered_tradesbook
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
filtered_tradesbook
j
totalqty_owned
output(global_tables$tradesbook, global_tables$positionbook)
qty_owned
get_quantities(curr_side, filtered_tradesbook, j, totalqty_owned)[2]
qty_owned
get_quantities(curr_side, filtered_tradesbook, j, totalqty_owned
)
output(global_tables$tradesbook, global_tables$positionbook)
totalqty_owned
j
filtered_tradesbook
curr_side
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
qty_owned_results
totalqty_owned
output(global_tables$tradesbook, global_tables$positionbook)
totalqty_owned
qty_owned
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
totalqty_owned
filtered_tradesbook
n
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
totalqty_owned
filtered_tradesbook
totalqty_owned
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
Pnl_df
Pnl_df
Pnl_df
Pnl_df
j
nrow(filtered_tradesbook)
totalqty_owned
j
filtered_tradesbook
curr_side
totalqty_owned
last_time
totalqty_owned
start_time_date
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
Pnl_df
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
init_cash = 100000
global_tables[[Con_GlobalVarName_LOB]]<- data.frame(matrix(0, 0, length(orderbook_spec)))
colnames(global_tables[[Con_GlobalVarName_LOB]]) <- orderbook_spec
#the position book is a list of data frames
init_pos <- data.frame(matrix(0, 1, length(positionbook_spec)))
colnames(init_pos) <- positionbook_spec
init_pos[,Con_FieldName_Sym] = Con_Sym_Cash
init_pos[,c(Con_FieldName_Qty, Con_FieldName_BookVal, Con_FieldName_MktVal)] = init_cash
global_tables[[Con_GlobalVarName_PositionBook]] <- list(init_pos)
names(global_tables[[Con_GlobalVarName_PositionBook]])[1] = 0
global_tables[[Con_GlobalVarName_TradesBook]] <- data.frame(matrix(0, 0, length(tradesbook_spec)))
colnames(global_tables[[Con_GlobalVarName_TradesBook]]) <- tradesbook_spec
strategy_impliedpricerisk(c("CPD", "SU", "ABX"), global_tbales, 390, 390, 390)
global_tables = new.env()
strategy_impliedpricerisk(c("CPD", "SU", "ABX"), global_tbales, 390, 390, 390)
strategy_impliedpricerisk(c("CPD", "SU", "ABX"), global_tables, 390, 390, 390)
init_cash = 100000
#global_variables: position matrices, trade matrices, ourdata, order book
#order format: msgtype, symbol, price, quantity, side, ordtype, orderID, time
#execution message format: orderID, Execstatus, symbol, quantity, avg price, side, time
#Execstatus can be the following: filled, replaced, cancelled, replacereject?, cancelreject
#order book format: orderID, time, symbol, price, quantity, side, ordtype
#trade matrix format: time, symbol, side, quantity, price, open/close, pnl
#position matrix: time, asset, #of shares, book value, market value,
datafile_name = "../data/TSXdatafile.xls"
global_tables = new.env()
global_tables[[Con_GlobalVarName_LOB]]<- data.frame(matrix(0, 0, length(orderbook_spec)))
colnames(global_tables[[Con_GlobalVarName_LOB]]) <- orderbook_spec
#the position book is a list of data frames
init_pos <- data.frame(matrix(0, 1, length(positionbook_spec)))
colnames(init_pos) <- positionbook_spec
init_pos[,Con_FieldName_Sym] = Con_Sym_Cash
init_pos[,c(Con_FieldName_Qty, Con_FieldName_BookVal, Con_FieldName_MktVal)] = init_cash
global_tables[[Con_GlobalVarName_PositionBook]] <- list(init_pos)
names(global_tables[[Con_GlobalVarName_PositionBook]])[1] = 0
global_tables[[Con_GlobalVarName_TradesBook]] <- data.frame(matrix(0, 0, length(tradesbook_spec)))
colnames(global_tables[[Con_GlobalVarName_TradesBook]]) <- tradesbook_spec
global_tables[[Con_GlobalVarName_ListDates]] <- list(vector())
import_data(global_tables)
strategy_impliedpricerisk(c("CPD", "SU", "ABX"), global_tables, 780, 780, 780)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
ttemp_matrix
temp_matrix
head(temp_matrix)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
as.numeric(temp_matrix$DateTime)
as.character(temp_matrix$DateTime)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
stock_name
name
stock_list
Symbol
output(global_tables$tradesbook, global_tables$positionbook)
stock_name
head(temp_matrix)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
name
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
name
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
name
name
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
View(time_list)
time_list$PnLPortfolio
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
global_tables$positionbook
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
name
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
name
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
name
name
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
name
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
name
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
name
plot(time_list$PnLPortfolio, xaxt = "n", main="PnL of Portfolio",
xlab="Days", ylab="PnL ($)", type = "l")
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
time_list$PnLPortfolio
View(time_list)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
source('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
source('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
source('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
source('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
output(global_tables$tradesbook, global_tables$positionbook)
View(Pnl_df)
View(time_list)
summary_statistics_all
summary_statistics_byStock
cumulative_pnl_dataframe
PnL_distribution
average_pnl_dataframe
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
summary_statistics_byStock
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
summary_statistics_all
summary_statistics_byStock
summary_statistics_byday
Trades_distribution
debugSource('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
output(global_tables$tradesbook, global_tables$positionbook)
summary_statistics_byday
source('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
source('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
source('~/GitHub/APS490RBCCM/new metrics file.R', echo=TRUE)
source('~/GitHub/APS490RBCCM/main.r', echo=TRUE)
init_cash = 100000
#global_variables: position matrices, trade matrices, ourdata, order book
#order format: msgtype, symbol, price, quantity, side, ordtype, orderID, time
#execution message format: orderID, Execstatus, symbol, quantity, avg price, side, time
#Execstatus can be the following: filled, replaced, cancelled, replacereject?, cancelreject
#order book format: orderID, time, symbol, price, quantity, side, ordtype
#trade matrix format: time, symbol, side, quantity, price, open/close, pnl
#position matrix: time, asset, #of shares, book value, market value,
datafile_name = "../data/TSXdatafile.xls"
global_tables = new.env()
global_tables[[Con_GlobalVarName_LOB]]<- data.frame(matrix(0, 0, length(orderbook_spec)))
colnames(global_tables[[Con_GlobalVarName_LOB]]) <- orderbook_spec
#the position book is a list of data frames
init_pos <- data.frame(matrix(0, 1, length(positionbook_spec)))
colnames(init_pos) <- positionbook_spec
init_pos[,Con_FieldName_Sym] = Con_Sym_Cash
init_pos[,c(Con_FieldName_Qty, Con_FieldName_BookVal, Con_FieldName_MktVal)] = init_cash
global_tables[[Con_GlobalVarName_PositionBook]] <- list(init_pos)
names(global_tables[[Con_GlobalVarName_PositionBook]])[1] = 0
global_tables[[Con_GlobalVarName_TradesBook]] <- data.frame(matrix(0, 0, length(tradesbook_spec)))
colnames(global_tables[[Con_GlobalVarName_TradesBook]]) <- tradesbook_spec
global_tables[[Con_GlobalVarName_ListDates]] <- list(vector())
import_data(global_tables)
strategy_impliedpricerisk(c("CPD", "SU", "ABX"), global_tables, 780, 780, 780)
output <- output(global_tables$tradesbook, global_tables$positionbook)
source('new metrics file.R')
output <- output(global_tables$tradesbook, global_tables$positionbook)
output
source('~/GitHub/APS490RBCCM/main.r', echo=TRUE)
